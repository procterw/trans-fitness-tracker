<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tracker</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="container">
      <h1>Health & Fitness Tracker</h1>
      <p class="muted">Log meals and fitness to <code>tracking-data.json</code>.</p>

      <nav class="tabs" aria-label="Sections">
        <button type="button" class="tab active" data-tab="photo">Photo</button>
        <button type="button" class="tab" data-tab="manual">Manual</button>
        <button type="button" class="tab" data-tab="fitness">Fitness</button>
        <button type="button" class="tab" data-tab="dashboard">Dashboard</button>
      </nav>

      <section id="tab-photo" class="card">
        <h2>Photo meal log</h2>
        <p class="muted">Upload a meal photo to estimate nutrition and log it.</p>

        <form id="photoForm">
        <label>
          Meal photo
          <input type="file" name="image" accept="image/*" required />
        </label>

        <div class="row">
          <label>
            Log date
            <input id="photoDateInput" type="date" name="date" />
          </label>
          <label>
            Notes (optional)
            <input type="text" name="notes" placeholder="e.g., standard smoothie; big portion; extra rice" />
          </label>
        </div>

        <button id="submitBtn" type="submit">Analyze & Log</button>
        <div id="photoStatus" class="status" aria-live="polite"></div>
        </form>

        <section id="photoResult" class="hidden"></section>
      </section>

      <section id="tab-manual" class="card hidden">
        <h2>Manual meal log</h2>
        <p class="muted">Describe what you ate; the app will estimate nutrients and log an event.</p>

        <form id="manualForm">
          <label>
            Meal description
            <textarea name="description" rows="3" placeholder="e.g., standard smoothie; 2 slices Dave's toast with vegan mayo; handful of chips" required></textarea>
          </label>

          <div class="row">
            <label>
              Log date
              <input id="manualDateInput" type="date" name="date" />
            </label>
            <label>
              Notes (optional)
              <input type="text" name="notes" placeholder="Anything about portion/brands/extra oil/sauces" />
            </label>
          </div>

          <button id="manualSubmitBtn" type="submit">Estimate & Log</button>
          <div id="manualStatus" class="status" aria-live="polite"></div>
        </form>

        <section id="manualResult" class="hidden"></section>
      </section>

      <section id="tab-fitness" class="card hidden">
        <h2>Fitness (current week)</h2>
        <div id="fitnessStatus" class="status" aria-live="polite"></div>
        <div id="fitnessContent" class="hidden"></div>
      </section>

      <section id="tab-dashboard" class="card hidden">
        <h2>Dashboard</h2>
        <div class="row">
          <label>
            Date
            <input id="dashboardDateInput" type="date" />
          </label>
          <div class="inline-actions">
            <button id="dashboardRefreshBtn" type="button">Refresh</button>
            <button id="dashboardRollupBtn" type="button">Roll up to daily log</button>
          </div>
        </div>
        <div id="dashboardStatus" class="status" aria-live="polite"></div>
        <section id="dashboardResult" class="hidden"></section>
      </section>
    </main>

    <script type="module" src="/app.js"></script>
  </body>
</html>
