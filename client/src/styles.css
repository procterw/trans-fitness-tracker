@import url("https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700;900&display=swap");

:root {
  color-scheme: light dark;
  --bg: #ffffff;
  --card: #ffffff;
  --text: #1b1e27;
  --muted: #667085;
  --border: #e4e8f0;
  --accent: #55cdfc;
  --danger: #d04a5c;
  --ok: #1a9f4b;
  --sidebar: #f7f9fc;
  --shadow: 0 1px 2px rgba(16, 24, 40, 0.06);
  --chat-bg: #ffffff;
  --chat-text: #111111;
  --chat-bubble: #dbe8ff;
  --chat-bubble-border: #b5cbff;
  --composer-border: #777;
  --sidebar-label: #111;
  --inline-card: #f9fafc;
  --pill-border: var(--border);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1218;
    --card: #151a23;
    --text: #eef1f6;
    --muted: #9aa4b2;
    --border: #2a3240;
    --accent: #55cdfc;
    --danger: #ff6b7a;
    --ok: #4ad586;
    --sidebar: #0f141d;
    --shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
    --chat-bg: #0f141d;
    --chat-text: #eef1f6;
    --chat-bubble: #1848d9;
    --chat-bubble-border: transparent;
    --composer-border: #3b4454;
    --sidebar-label: #eef1f6;
    --inline-card: #161c26;
    --pill-border: #3b4454;
  }
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: "Noto Sans", sans-serif;
  background: var(--bg);
  color: var(--text);
}

button,
input,
textarea,
select,
code,
pre {
  font-family: "Noto Sans", sans-serif;
}

a {
  color: inherit;
}

.appNavbar {
  position: sticky;
  top: 0;
  z-index: 20;
  min-height: 50px;
  padding: 8px 18px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--card) 90%, transparent);
  backdrop-filter: blur(5px);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.appNavbarMain {
  display: flex;
  align-items: center;
  gap: 14px;
  flex: 1;
  min-width: 0;
}

.navbarTabs {
  display: flex;
  align-items: center;
  gap: 18px;
  min-width: 0;
  overflow-x: auto;
  scrollbar-width: none;
  flex: 1;
  justify-content: center;
}

.navbarTabs::-webkit-scrollbar {
  display: none;
}

.navbarTabs .tab {
  flex: 0 0 auto;
  width: auto;
}

.appNavbarSide {
  display: flex;
  align-items: center;
  min-width: 24px;
}

.appNavbarSideRight {
  margin-left: auto;
  gap: 8px;
}

.appNavbarTitle {
  flex: 0 0 auto;
  margin: 0;
  text-align: left;
  font-size: clamp(12px, 1.3vw, 15px);
  line-height: 1;
  font-weight: 900;
  font-style: normal;
  text-transform: uppercase;
  letter-spacing: 0.01em;
}

.accountMenu {
  position: relative;
}

.navbarIconButton {
  width: 38px;
  height: 38px;
  padding: 0;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  display: inline-grid;
  place-items: center;
}

.mobileMenuButton {
  display: none;
}

.mobileNavMenu {
  display: none;
}

.settingsIcon {
  width: 18px;
  height: 18px;
  display: block;
}

.navbarIconButton:hover:not(:disabled),
.navbarIconButton.active {
  background: color-mix(in srgb, var(--chat-bubble) 24%, transparent);
}

.accountMenuTrigger {
  width: 38px;
  height: 38px;
  border-radius: 999px;
  padding: 0;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  display: inline-grid;
  place-items: center;
}

.accountMenuTrigger:hover:not(:disabled) {
  background: color-mix(in srgb, var(--border) 65%, transparent);
}

.accountAvatar {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  background: #28496f;
  color: #fff;
  display: inline-grid;
  place-items: center;
  font-size: 12px;
  font-weight: 900;
}

.accountMenuDropdown {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  width: min(320px, calc(100vw - 24px));
  border: 1px solid var(--border);
  background: var(--card);
  box-shadow: var(--shadow);
  padding: 12px;
  display: grid;
  gap: 8px;
}

.accountMenuLabel {
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.accountMenuUser,
.accountMenuSubtle {
  line-height: 1.3;
  word-break: break-word;
}

.accountMenuUser {
  font-size: 14px;
  font-weight: 700;
}

.accountMenuStatus {
  margin: 0;
}

.accountMenuSubtle {
  margin: 0;
  font-size: 13px;
}

.accountMenuAction {
  justify-self: flex-start;
}

.appShell {
  min-height: 100vh;
  min-height: 100dvh;
  height: 100dvh;
  display: block;
  background: transparent;
}

.sidebar {
  position: static;
  top: auto;
  height: 100%;
  min-height: 0;
  background: var(--sidebar);
  border-right: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  width: min(100%, 370px);
  max-width: 370px;
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding-bottom: 30px;
  padding-top: 10px;
  overflow-y: auto;
  margin-left: 0;
  padding-left: 0;
  padding-right: 0;
}

.mainContentRow {
  flex: 1;
  min-height: 0;
  width: 100%;
  display: grid;
  grid-template-columns: minmax(0, 370px) minmax(0, 1fr);
  align-items: stretch;
  min-width: 0;
  overflow: hidden;
}

.mainPrimaryColumn {
  min-height: 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
}

.mainColumn {
  min-height: 100vh;
  min-height: 100dvh;
  height: 100dvh;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
  min-width: 0;
  overflow: hidden;
}

.sidebarBackdrop {
  display: none;
}

.signedOutShell {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 24px;
}

.signedOutCard {
  width: min(560px, 100%);
  padding: 28px;
  border: 1px solid var(--border);
  background: var(--card);
  box-shadow: var(--shadow);
  text-align: center;
}

.signedOutTitle {
  margin: 0;
  font-size: clamp(28px, 5vw, 44px);
  line-height: 1;
}

.signedOutDescription {
  margin: 16px 0 0;
  color: var(--muted);
  line-height: 1.5;
  max-width: 52ch;
  margin-left: auto;
  margin-right: auto;
}

.signedOutActions {
  margin-top: 22px;
  display: flex;
  justify-content: center;
}

.onboardingApp {
  min-height: 100vh;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

.onboardingMain {
  flex: 1;
  min-height: 0;
  display: flex;
  justify-content: center;
  padding: 10px 18px 18px;
}

.onboardingPanel {
  width: min(1360px, 100%);
}

.workflowSidebar {
  min-height: 0;
  overflow: auto;
  border-left: 1px solid var(--border);
  padding: 10px 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.sidebarHeading {
  margin: 0;
  font-size: 16px;
}

.workflowSidebarSubheading {
  margin: 0;
  font-size: 12px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.workflowSidebarSummary {
  margin: -2px 0 4px;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.35;
}

.workflowSidebarGoalBlock + .workflowSidebarGoalBlock {
  margin-top: 10px;
}

.workflowSidebarList {
  margin: 6px 0 0;
  padding-left: 16px;
  display: grid;
  gap: 4px;
  font-size: 12px;
}

.workflowSidebarListItem {
  line-height: 1.3;
}

.onboardingHeader {
  max-width: 800px;
  margin: 0 auto;
  width: 100%;
  padding: 8px 24px 0;
}

.onboardingTitle {
  margin: 0;
  font-size: 18px;
}

.onboardingMeta {
  margin: 6px 0 0;
  color: var(--muted);
  font-size: 13px;
}

.onboardingHint {
  margin: 6px 0 0;
  color: var(--muted);
  font-size: 12px;
}

.onboardingExitButton {
  margin-top: 12px;
  border: 1px solid var(--accent);
  background: var(--accent);
  color: var(--bg);
  padding: 10px 14px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.mainScroll {
  flex: 1;
  overflow: auto;
  padding-right: 6px;
  min-height: 0;
}

.foodLogView,
.workoutsView {
  padding-left: 18px;
  padding-right: 18px;
}

p.appSubtitle {
  margin: 0;
  font-size: 13px;
}

.container {
  max-width: 980px;
  margin: 40px auto;
  padding: 0 16px;
}

h1 {
  margin: 0 0 8px;
  font-size: 28px;
}

h2 {
  margin: 0 0 12px;
  font-size: 20px;
}

h3 {
  font-size: 15px;
}

h1,
h2,
h3 {
  font-weight: 900;
  font-style: normal;
  text-transform: none;
}

h2 {
  font-weight: 700;
}

h2:focus {
  outline: 2px solid var(--accent);
  outline-offset: 4px;
  border-radius: 0;
}

.muted {
  color: var(--muted);
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 0;
  padding: 16px;
  margin: 16px 0;
  box-shadow: var(--shadow);
}

.tabs {
  display: flex;
  gap: 8px;
  margin: 18px 0 8px;
  flex-wrap: wrap;
}

.tab {
  border: none;
  background: transparent;
  color: var(--text);
  padding: 10px 14px;
  border-radius: 0;
  font-weight: 600;
  cursor: pointer;
}

.tab.active {
  background: #28496f;
  color: #ffffff;
}

.sidebarTabs {
  position: sticky;
  top: 0;
  z-index: 3;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 0;
  padding: 12px 18px 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--sidebar) 92%, transparent);
}

.sidebarTabs .tab {
  width: 100%;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-align: left;
  padding: 10px 10px;
}

.navbarTabs .tab {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  text-align: left;
  padding: 8px 10px;
}

label {
  display: block;
  font-weight: 600;
  margin: 10px 0;
}

input[type="file"],
input[type="date"],
input[type="text"],
textarea {
  display: block;
  width: 100%;
  box-sizing: border-box;
  margin-top: 6px;
  padding: 10px 12px;
  border-radius: 0;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  font-family: inherit;
}

textarea {
  resize: vertical;
}

.row {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 12px;
}

@media (max-width: 700px) {
  .row {
    grid-template-columns: 1fr;
  }
}

.actionsRow {
  display: flex;
  gap: 10px;
  align-items: end;
  padding-top: 30px;
}

.buttonRow {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
  margin-top: 10px;
}

.divider {
  border: none;
  border-top: 1px solid var(--border);
  margin: 18px 0;
}

.tableScroll {
  overflow-x: auto;
}

.notesCell {
  max-width: 420px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.linkButton {
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
  color: var(--accent);
  font-weight: 800;
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 3px;
}

button {
  border: 1px solid var(--border);
  background: var(--accent);
  color: white;
  padding: 10px 14px;
  border-radius: 0;
  font-weight: 800;
  cursor: pointer;
}

button.secondary {
  background: transparent;
  color: var(--text);
}

button.small {
  padding: 6px 10px;
  border-radius: 0;
  font-weight: 800;
  font-size: 13px;
}

button.danger {
  background: var(--danger);
}

button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.status {
  margin-top: 12px;
  color: var(--muted);
  min-height: 20px;
}

.error {
  color: var(--danger);
}

.ok {
  color: var(--ok);
}

table {
  width: 100%;
  border-collapse: collapse;
}

th,
td {
  padding: 6px 8px;
  border-bottom: 1px solid var(--border);
  text-align: left;
  vertical-align: top;
}

tr.selectedRow td {
  background: color-mix(in srgb, var(--accent) 14%, transparent);
}

tr.selectedRow .linkButton {
  text-decoration-thickness: 3px;
}

.dietRecentTable,
.dietHistoryTable {
  font-size: 12px;
}

.dietRecentTable th,
.dietRecentTable td,
.dietHistoryTable th,
.dietHistoryTable td {
  padding: 5px 7px;
}

.dietTotalsRow td {
  font-weight: 800;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--accent) 14%, transparent);
}

.dietTodaySummary {
  margin-bottom: 30px;
}

.dietRecentSection .tableScroll {
  margin-top: 12px;
}

code {
  font-family: inherit;
}

ul {
  padding-left: 18px;
}

.hidden {
  display: none;
}

.composerFileInput {
  display: none !important;
}

.chatBox {
  border: none;
  border-radius: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 0;
  background: var(--chat-bg);
}

.chatBoxFull {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.chatBodySplit {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(280px, 340px);
}

.chatMessages {
  flex: 1;
  min-height: 0;
  max-height: none;
  overflow: auto;
  padding: 24px 24px 20px;
  background: var(--chat-bg);
  color: var(--chat-text);
  display: flex;
  flex-direction: column;
  gap: 18px;
  font-family: inherit;
  font-size: 14px;
  line-height: 1.45;
  max-width: 768px;
  margin: auto;
  width: 100%;
}

.chatBodySplit .chatMessages {
  margin: 0;
  max-width: none;
}

.settingsChatSplit {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: minmax(0, 420px) minmax(0, 1fr);
  align-items: stretch;
  min-width: 0;
  overflow: hidden;
}

.settingsChatSplit .sidebar {
  width: min(100%, 420px);
  max-width: 420px;
  padding: 6px 18px 30px;
}

.settingsChatColumn {
  min-height: 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
}

.settingsChatMessages {
  max-width: 768px;
  width: 100%;
  margin: auto;
}

.chatMsg {
  padding: 0;
  border: none;
  border-radius: 0;
  margin: 0;
  width: 100%;
}

.chatMessages .chatMsg:last-of-type {
  margin-bottom: 24px;
}

.chatMsg.user {
  align-self: flex-end;
  width: auto;
  max-width: min(68%, 580px);
  background: var(--chat-bubble);
  border-radius: 24px 2px 24px 24px;
  padding: 12px 22px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
}

.chatAttachmentRow {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 8px;
}

.chatAttachmentCard {
  margin: 0;
  width: clamp(176px, 30vw, 236px);
  height: clamp(176px, 30vw, 236px);
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid color-mix(in srgb, var(--chat-bubble-border) 65%, transparent);
  background: color-mix(in srgb, var(--chat-bg) 70%, transparent);
}

.chatAttachmentImage {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

.chatMsg.assistant {
  background: transparent;
  border: none;
  padding: 0;
}

.chatMsg.assistant.thinking {
  opacity: 0.7;
  font-style: italic;
}

.chatMsg.assistant.status {
  width: auto;
  max-width: min(72%, 620px);
  margin-left: 2px;
  padding: 0;
  border: none;
  border-left: 3px solid color-mix(in srgb, var(--muted) 55%, transparent);
  border-radius: 0;
  opacity: 1;
}

.chatMsg.assistant.status .chatContent {
  color: var(--muted);
  font-size: 12px;
  line-height: 1.35;
  font-weight: 600;
  padding: 2px 0 2px 10px;
  font-style: italic;
}

.chatEmptyState {
  flex: 1;
  min-height: 0;
  width: 100%;
  display: grid;
  place-items: center;
  position: relative;
  overflow: hidden;
}

.chatEmptyEmojiWrap {
  position: relative;
  display: inline-block;
  line-height: 1;
  opacity: 0;
  visibility: hidden;
}

.chatEmptyEmojiReflection {
  display: block;
  position: absolute;
  left: 50%;
  top: 170%;
  transform: translateX(-50%) scaleY(-1);
  transform-origin: top;
  font-size: clamp(40px, 10vw, 72px);
  line-height: 1;
  opacity: 0.28;
  pointer-events: none;
  filter: blur(1.5px);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.75), transparent);
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.75), transparent);
  overflow: hidden;
  max-height: 60%;
}

.chatEmptyEmoji {
  font-size: clamp(40px, 10vw, 72px);
  line-height: 1;
  filter: drop-shadow(0 1px 2px color-mix(in srgb, black 18%, transparent));
  position: relative;
  z-index: 1;
}

.chatInlineCard {
  border: 1px solid var(--border);
  border-radius: 0;
  padding: 12px;
  margin: 16px 0 8px;
  background: var(--inline-card);
  box-shadow: var(--shadow);
}

.chatPanel {
  flex: 1;
  height: 100%;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.chatPanelEmpty .chatBoxFull {
  justify-content: center;
}

.chatPanelEmpty .chatMessagesEmpty {
  flex: 0 0 auto;
}

.chatPanelEmpty .chatComposer {
  transform: translateY(-60vh);
  transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
}

.chatMessagesEmpty {
  flex: 0 0 clamp(140px, 28vh, 240px) !important;
  max-height: clamp(140px, 28vh, 240px) !important;
  overflow: auto;
}

.chatRole {
  font-weight: 900;
  margin-bottom: 6px;
  font-size: 13px;
  color: var(--muted);
  font-family: inherit;
}

.chatMsg.assistant .chatRole {
  display: none;
}

.chatMsg.assistant .chatContent {
  letter-spacing: 0.012em;
}

.chatContent {
  line-height: 28px;
}

.chatContent.plain {
  white-space: pre-wrap;
}

.chatContent.markdown {
  white-space: normal;
}

.chatContent.markdown p {
  margin: 0 0 10px;
}

.chatContent.markdown p:last-child {
  margin-bottom: 0;
}

.chatContent.markdown ul,
.chatContent.markdown ol {
  margin: 0 0 10px;
}

.chatContent.markdown li {
  margin: 2px 0;
}

.chatContent.markdown a {
  color: var(--accent);
  text-decoration: underline;
  text-underline-offset: 3px;
}

.chatContent.markdown pre {
  margin: 8px 0 10px;
  padding: 10px 12px;
  border-radius: 0;
  border: 1px solid var(--border);
  overflow: auto;
  background: color-mix(in srgb, var(--card) 70%, black 30%);
}

.chatContent.markdown pre code {
  white-space: pre;
  display: block;
}

.chatContent.markdown blockquote {
  margin: 8px 0 10px;
  padding: 6px 10px;
  border-left: 3px solid var(--border);
  color: var(--muted);
}

.chatMeta {
  margin-top: 8px;
  font-size: 11px;
  line-height: 1.2;
}

.chatMetaSaved {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--accent);
  font-weight: 700;
}

.chatMetaSaved::before {
  content: "";
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: var(--accent);
}

.chatInputRow {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 12px;
  border-top: 1px solid var(--border);
  background: var(--card);
}

.foodComposerForm {
  margin-top: 0;
  padding: 0;
  border: none;
  background: transparent;
}

.chatComposer {
  position: sticky;
  bottom: 0;
  z-index: 2;
  max-width: 768px;
  width: 100%;
  margin: 0 auto;
  transform: translateY(0);
  transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
}

.composerPreviewRow {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  padding: 10px 12px 0;
  border-top: 1px solid var(--composer-border);
  background: var(--chat-bg);
}

.composerPreviewCard {
  position: relative;
  width: 68px;
  height: 68px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--pill-border);
  background: color-mix(in srgb, var(--card) 70%, transparent);
}

.composerPreviewImage {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

.composerPreviewRemove {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 18px;
  height: 18px;
  padding: 0;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, black 25%, transparent);
  background: color-mix(in srgb, black 55%, transparent);
  color: white;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
}

.composerPreviewRemove:hover:not(:disabled) {
  background: color-mix(in srgb, black 70%, transparent);
}

.composerBar {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  padding: 17px 18px;
  margin-bottom: 15px;
  border: 1px solid color-mix(in srgb, var(--composer-border) 20%, transparent);
  border-radius: 25px;
  background: var(--chat-bg);
  flex-wrap: wrap;
  row-gap: 8px;
  box-shadow: 0 3px 10px color-mix(in srgb, black 4%, transparent);
}

.composerPreviewRow + .composerBar {
  border-top: none;
}

.composerTopRow {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.composerTopRow .iconButton,
.composerTopRow input.composerDateInput {
  align-self: stretch;
}

.composerBottomRow {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  flex: 1 1 280px;
  min-width: 200px;
}

.composerBottomRow .composerInput {
  flex: 1 1 auto;
  min-width: 0;
}

.composerInput {
  flex: 1 1 220px;
  width: auto;
  margin: 0;
  padding: 8px 6px;
  border: none;
  border-radius: 0;
  background: var(--chat-bg);
  color: var(--chat-text);
  font-family: inherit;
  font-size: 15px;
  resize: none;
  overflow: auto;
  min-height: 22px;
  min-width: 180px;
  line-height: 1.35;
}

.composerInput::placeholder {
  color: var(--muted);
}

.composerInput:focus {
  outline: none;
}

.iconButton,
.sendButton {
  width: 38px;
  height: 38px;
  padding: 0;
  border-radius: 0;
  display: inline-grid;
  place-items: center;
}

.composerTopRow .iconButton {
  width: 40px;
  height: 40px;
  min-width: 40px;
  min-height: 40px;
  border-radius: 0;
}

.iconButton {
  background: transparent;
  color: var(--chat-text);
}

.iconButton:hover:not(:disabled) {
  background: color-mix(in srgb, var(--border) 55%, transparent);
}

.sendButton {
  background: #28496f;
  color: white;
  border-color: #28496f;
  border-radius: 999px;
}

.sendButton:hover:not(:disabled) {
  filter: brightness(1.05);
}

.composerMetaRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.composerStatus {
  margin-top: 10px;
}

.composerMetaLeft,
.composerMetaRight {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.composerHint {
  font-size: 13px;
}

.filePill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px;
  border-radius: 0;
  border: 1px solid var(--pill-border);
  background: transparent;
  font-weight: 800;
  font-size: 12px;
  color: var(--muted);
  max-width: 420px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.filePillLabel {
  color: var(--muted);
  font-weight: 900;
}

.filePillRemove {
  width: 22px;
  height: 22px;
  padding: 0;
  border-radius: 0;
  border: 1px solid var(--pill-border);
  background: transparent;
  color: var(--muted);
  font-weight: 900;
  cursor: pointer;
}

.filePillRemove:hover:not(:disabled) {
  background: color-mix(in srgb, var(--border) 55%, transparent);
}

.metaLabel {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin: 0;
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
}

.datePillInput {
  display: inline-block;
  width: auto;
  margin: 0;
  padding: 6px 10px;
  border-radius: 0;
  font-weight: 500;
  font-size: 12px;
  background: transparent;
  color: var(--chat-text);
  border: 1px solid var(--pill-border);
}

.composerTopRow .datePillInput.composerDateInput {
  margin-top: 0;
}

.composerDateInput {
  height: 40px;
  min-height: 40px;
  margin-top: 0;
  width: auto !important;
  min-width: 0;
  max-width: 120px;
  inline-size: max-content;
  padding: 0 8px;
  font-size: 11px;
  line-height: 40px;
  flex: 0 0 auto;
  box-sizing: border-box;
}

.pillRow {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 8px;
}

.pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 10px;
  border-radius: 0;
  border: 1px solid var(--pill-border);
  background: color-mix(in srgb, var(--card) 78%, black 22%);
  font-weight: 900;
  font-size: 12px;
}

.pill.subtle {
  background: transparent;
  color: var(--muted);
  font-weight: 800;
}

.toggle {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 800;
  color: var(--muted);
}

.toggle input {
  width: 18px;
  height: 18px;
}

.progressBar {
  width: 100%;
  height: 10px;
  margin-top: 10px;
  background: color-mix(in srgb, var(--border) 55%, transparent);
  border: 1px solid var(--border);
  border-radius: 0;
  overflow: hidden;
}

.progressBarFill {
  height: 100%;
  width: 0;
  background: var(--accent);
}

.sidebarCard {
  padding: 6px 18px;
}

.sidebarSectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}

.sidebarHeading {
  margin: 0;
  font-size: 16px;
}

.sidebarDate {
  font-size: 12px;
  color: var(--muted);
  font-weight: 500;
}

.sidebarList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
  font-size: 12px;
}

.sidebarListItem {
  display: grid;
  gap: 4px;
}

.sidebarSectionLabel {
  margin: 0;
  font-size: 13px;
  font-style: normal;
  color: #111;
  color: var(--sidebar-label);
  font-weight: 700;
}

.sidebarProgress {
  display: grid;
  gap: 8px;
  margin-bottom: 12px;
}

.sidebarProgressLabel {
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}

.sidebarChecklist {
  display: grid;
  gap: 12px;
}

.sidebarChecklistItems {
  margin-top: 6px;
  display: grid;
  gap: 4px;
  font-size: 12px;
}

.settingsGoalChecklistSidebar .sidebarHeading {
  margin-top: 12px;
}

.settingsGoalChecklistSidebar .workflowSidebarGoalBlock + .sidebarHeading {
  margin-top: 18px;
}

.sidebarChecklistItem {
  display: flex;
  align-items: flex-start;
  gap: 6px;
  color: var(--text);
}

.sidebarChecklistText {
  display: grid;
  gap: 2px;
}

.sidebarChecklistDescription {
  font-size: 11px;
  line-height: 1.25;
  color: var(--muted);
}

.sidebarChecklistMark {
  width: 14px;
  height: 14px;
  margin-top: 2px;
  flex: 0 0 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  line-height: 1;
  font-weight: 800;
  color: transparent;
}

.sidebarChecklistMark.checked {
  color: var(--ok);
}

.sidebarChecklistItem.todo {
  color: var(--muted);
}

.fitnessTopRow {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.fitnessCategory {
  margin-top: 18px;
  padding: 0;
}

.fitnessCategory + .fitnessCategory {
  margin-top: 24px;
}

.fitnessCategoryHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding-bottom: 4px;
  border-bottom: none;
}

.fitnessCategoryTitle {
  margin: 0;
  font-size: 14px;
}

.fitnessCategoryMeta {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.fitnessChecklist {
  margin-top: 6px;
}

.fitnessChecklistItem {
  display: grid;
  grid-template-columns: 18px minmax(140px, 220px) 1fr;
  gap: 10px;
  padding: 3px 0;
  border-bottom: none;
  align-items: start;
}

.fitnessChecklistCheckbox {
  width: 16px;
  height: 16px;
  margin-top: 2px;
  accent-color: color-mix(in srgb, var(--muted) 72%, transparent);
}

.fitnessChecklistLabel {
  display: grid;
  gap: 2px;
  margin: 0;
  font-weight: 500;
  font-size: 13px;
  cursor: pointer;
  line-height: 1.25;
  padding-top: 1px;
}

.fitnessChecklistLabelText {
  line-height: 1.2;
}

.fitnessChecklistLabelDescription {
  font-size: 12px;
  line-height: 1.25;
  color: var(--muted);
  font-weight: 400;
}

.fitnessChecklistDetails {
  width: 100%;
  margin: 0;
  padding: 2px 6px;
  border-radius: 0;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  resize: none;
  overflow: hidden;
  min-height: 22px;
  line-height: 1.3;
  font-size: 13px;
}

.fitnessChecklistDetails::placeholder {
  color: color-mix(in srgb, var(--muted) 70%, transparent);
}

.fitnessChecklistDetails:focus {
  outline: 2px solid color-mix(in srgb, var(--accent) 45%, transparent);
  outline-offset: 2px;
  border-color: var(--border);
  background: color-mix(in srgb, var(--card) 80%, black 20%);
}

.fitnessChecklistItem.checked .fitnessChecklistLabel {
  color: var(--text);
}

.fitnessChecklistItem:not(.checked) .fitnessChecklistLabel {
  color: var(--muted);
}

@media (max-width: 700px) {
  .fitnessChecklistItem {
    grid-template-columns: 22px 1fr;
  }

  .fitnessChecklistDetails {
    grid-column: 1 / -1;
    margin-left: 32px;
  }
}

.fitnessHistory {
  margin-top: 28px;
  border: none;
  border-radius: 0;
  overflow: hidden;
  background: transparent;
}

.fitnessHistory h3 {
  margin: 0;
  padding: 6px 0 8px;
  font-weight: 800;
  background: transparent;
}

.fitnessHistoryBody {
  padding: 0;
}

.fitnessHistoryTableScroll {
  border: none;
  border-radius: 0;
  overflow: auto;
  background: transparent;
}

.fitnessHistoryTable {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.fitnessHistoryTable th,
.fitnessHistoryTable td {
  padding: 6px 8px;
  border-bottom: none;
  vertical-align: top;
  background: transparent;
}

.fitnessHistoryTable thead th {
  position: sticky;
  top: 0;
  z-index: 2;
  background: var(--card);
  white-space: nowrap;
}

.fitnessHistoryWeekCol {
  position: sticky;
  left: 0;
  z-index: 3;
  background: var(--card);
  min-width: 180px;
}

.fitnessHistoryWeekHeader .fitnessHistoryWeekTitle {
  font-weight: 900;
  line-height: 1.2;
}

.fitnessHistoryWeekHeader .fitnessHistoryWeekMeta {
  margin-top: 4px;
  font-size: 13px;
}

.fitnessHistoryCategoryRow td {
  padding: 6px 8px;
  background: transparent;
  font-weight: 800;
}

.fitnessHistoryActivityCell {
  position: sticky;
  left: 0;
  z-index: 1;
  background: var(--card);
  min-width: 180px;
  max-width: 280px;
  font-weight: 700;
}

.fitnessHistoryActivityDescription {
  margin-top: 2px;
  font-size: 12px;
  line-height: 1.25;
  color: var(--muted);
  font-weight: 500;
}

.fitnessHistoryCell {
  min-width: 160px;
}

.fitnessHistoryCellInner {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.fitnessHistoryMark {
  width: 18px;
  flex: 0 0 18px;
  font-weight: 1000;
  line-height: 1.2;
}

.fitnessHistoryText {
  white-space: pre-wrap;
  line-height: 1.25;
}

@media (max-width: 1000px) {
  .appNavbar {
    min-height: 46px;
    padding: 7px 10px;
  }

  .appNavbarTitle {
    font-size: clamp(11px, 3.3vw, 14px);
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
  }

  .appNavbarMain {
    gap: 8px;
    position: relative;
    z-index: 3;
  }

  .navbarTabs {
    display: none;
  }

  .navbarTabs .tab {
    padding: 8px 9px;
  }

  .mobileMenuButton {
    display: inline-grid;
  }

  .mobileNavMenu {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 0;
    display: none;
    flex-direction: column;
    gap: 6px;
    padding: 0;
    border: none;
    border-bottom: 1px solid transparent;
    background: var(--card);
    box-shadow: none;
    max-height: 260px;
    pointer-events: none;
    overflow: hidden;
  }

  .mobileNavMenu.open {
    display: flex;
    transform: translateY(0);
    pointer-events: auto;
    border-bottom-color: var(--border);
    box-shadow: var(--shadow);
  }

  .mobileNavMenu .tab {
    width: 100%;
    justify-content: flex-start;
    padding: 10px 12px;
  }

  .appNavbarSideRight {
    position: relative;
    z-index: 4;
  }

  .appShell {
    min-height: 100vh;
    height: 100dvh;
    position: relative;
  }

  .sidebar {
    display: none;
  }
  .sidebarBackdrop {
    display: none;
  }

  .mainContentRow {
    display: flex;
    min-height: 0;
  }

  .mainPrimaryColumn {
    flex: 1 1 auto;
    min-height: 0;
  }

  .mainColumn {
    padding: 0;
    min-height: 100vh;
    height: 100dvh;
    overflow: hidden;
  }

  .mainScroll {
    padding-right: 0;
    overflow-x: hidden;
  }

  .foodLogView,
  .workoutsView {
    padding-left: 10px;
    padding-right: 10px;
  }

  .onboardingMain {
    padding: 8px 0 0;
  }

  .onboardingHeader {
    padding: 8px 14px 0;
  }

  .chatBodySplit {
    grid-template-columns: minmax(0, 1fr);
  }

  .settingsChatSplit {
    grid-template-columns: minmax(0, 1fr);
  }

  .chatContextPanel.workflowSidebar {
    border-left: none;
    border-top: 1px solid var(--border);
    padding: 10px 10px calc(10px + env(safe-area-inset-bottom));
    max-height: 40vh;
  }

  .settingsChatSplit .sidebar {
    padding: 10px 10px calc(10px + env(safe-area-inset-bottom));
    border-top: 1px solid var(--border);
    border-left: none;
    max-height: 40vh;
  }

  .chatMessages {
    padding: 16px 14px 12px;
    gap: 14px;
    font-size: 13px;
    line-height: 1.35;
  }

  .chatMsg.user {
    max-width: 82%;
  }

  .chatPanelEmpty .chatComposer {
    transform: none;
  }

  .chatPanelEmpty .chatBoxFull {
    justify-content: flex-start;
  }

  .chatPanelEmpty .chatMessagesEmpty {
    flex: 1 1 auto !important;
    max-height: none !important;
    margin: 0 !important;
    max-width: none !important;
  }

  .chatComposer {
    max-width: none;
    width: 100%;
    margin: 0;
    bottom: 0;
  }

  .composerBar {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    padding: 10px 10px calc(14px + env(safe-area-inset-bottom));
    margin-bottom: 0;
    border-radius: 0;
    border-left: none;
    border-right: none;
    gap: 8px;
    flex-direction: column;
    align-items: stretch;
  }

  .composerTopRow,
  .composerBottomRow {
    width: 100%;
  }

  .composerTopRow {
    grid-column: 1;
    grid-row: 1;
    justify-content: flex-start;
    flex-wrap: nowrap;
    align-items: stretch;
  }

  .composerTopRow .iconButton,
  .composerTopRow input.composerDateInput {
    box-sizing: border-box;
    height: 40px;
    min-height: 40px;
    margin: 0;
  }

  .composerTopRow input.composerDateInput {
    padding: 0 10px;
    line-height: 40px;
    font-size: 13px;
  }

  .composerTopRow input.composerDateInput::-webkit-date-and-time-value {
    min-height: 40px;
    line-height: 40px;
  }

  .composerBottomRow {
    grid-column: 1;
    grid-row: 2;
    flex: 0 0 auto;
    min-width: 0;
  }

  .composerInput {
    min-width: 0;
    font-size: 14px;
  }

  .sendButton {
    width: 34px;
    height: 34px;
  }

  .composerDateInput {
    width: clamp(132px, 42vw, 156px) !important;
    max-width: none;
  }

  .fitnessHistory,
  .fitnessHistoryBody,
  .fitnessHistoryTableScroll {
    max-width: 100%;
  }

  .fitnessHistoryTableScroll {
    overflow-x: hidden;
  }

  .fitnessHistoryWeekCol,
  .fitnessHistoryActivityCell {
    position: static;
    min-width: 0;
    max-width: none;
  }

  .fitnessHistoryTable {
    table-layout: fixed;
  }

  .fitnessHistoryCell {
    min-width: 0;
  }

  .fitnessHistoryTable th,
  .fitnessHistoryTable td {
    white-space: normal;
    overflow-wrap: anywhere;
  }
}


.fitnessWeekLabel {
  font-size: 14px;
  margin-left: 8px;
  font-weight: 500;
}


.fitnessCard {
  border: none;
  margin: 0;
}

.workoutsCard,
.dietCard {
  display: flex;
  flex-direction: column;
}

.workoutsWeeklySummarySection {
  order: 1;
}

.workoutsChecklistSection {
  order: 2;
}

.workoutsHistorySection {
  order: 3;
}

.dietWeeklySummarySection {
  order: 1;
}

.dietRecentSection {
  order: 2;
}

.dietHistorySection {
  order: 3;
}


.fitnessSummary {
  margin: 8px 0 0;
  padding: 8px 12px;
  background: color-mix(in srgb, var(--card) 95%, transparent);
  border-left: 2px solid color-mix(in srgb, var(--border) 70%, transparent);
  font-size: 13px;
  font-style: italic;
  color: var(--muted);
  white-space: pre-wrap;
}

.settingsSection + .settingsSection {
  margin-top: 20px;
}

.settingsMeta {
  display: grid;
  gap: 8px;
}

.settingsRow {
  display: grid;
  grid-template-columns: 90px minmax(0, 1fr);
  gap: 8px;
  align-items: baseline;
}

.settingsLabel {
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
}

.settingsConfirmRow {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.onboardingTextarea {
  min-height: 76px;
  padding: 8px 10px;
  line-height: 1.35;
  resize: vertical;
  overflow: auto;
}

@media (max-width: 1000px) {
  .workoutsChecklistSection {
    order: 1;
  }

  .workoutsWeeklySummarySection {
    order: 2;
  }

  .workoutsHistorySection {
    order: 3;
  }

  .dietRecentSection {
    order: 1;
  }

  .dietWeeklySummarySection {
    order: 2;
  }

  .dietHistorySection {
    order: 3;
  }

}
